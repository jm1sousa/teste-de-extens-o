<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;width:280px;background:linear-gradient(135deg,#1a1a2e,#16213e);color:#eaeaea;}
.container{padding:16px;}
h1{text-align:center;font-size:16px;margin-bottom:12px;}
.controls{display:flex;gap:6px;}
.btn{flex:1;padding:10px;border:none;border-radius:8px;font-weight:600;cursor:pointer;}
.btn-start{background:#818cf8;color:white;}
.btn-stop{background:#ef4444;color:white;}
.btn:disabled{opacity:0.5;cursor:not-allowed;}
</style>
</head>
<body>
<div class="container">
<h1>üîß FormFiller Auto</h1>
<div class="controls">
<button id="startBtn" class="btn btn-start">‚ñ∂ Iniciar</button>
<button id="stopBtn" class="btn btn-stop" disabled>‚èπ Parar</button>
</div>
</div>
<script>
const startBtn=document.getElementById('startBtn');
const stopBtn=document.getElementById('stopBtn');

function updateUI(running){
  startBtn.disabled=running; stopBtn.disabled=!running;
}

startBtn.addEventListener('click',async()=>{
  updateUI(true);
  const[tab]=await chrome.tabs.query({active:true,currentWindow:true});
  if(tab) chrome.tabs.sendMessage(tab.id,{action:'start'});
});

stopBtn.addEventListener('click',async()=>{
  updateUI(false);
  const[tab]=await chrome.tabs.query({active:true,currentWindow:true});
  if(tab) chrome.tabs.sendMessage(tab.id,{action:'stop'});
});

chrome.runtime.onMessage.addListener(msg=>{
  if(msg.type==='stopped') updateUI(false);
});
</script>
</body>
</html>
